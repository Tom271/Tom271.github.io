import"../chunks/CWj6FrbW.js";import"../chunks/CAVazQAu.js";import{h as d,ac as M,t as v,ae as O,af as z,_ as w,$ as b,a0 as C,a6 as P,a1 as $,ad as G,S as h,d as r,a2 as y,ag as j,P as I,a3 as k}from"../chunks/iDVjekDc.js";import{e as S,s as R}from"../chunks/BLQox4io.js";import{e as U,i as q}from"../chunks/BwHA9MG3.js";import{i as D}from"../chunks/BwKFuoDb.js";import{p as E,s as F,a as H}from"../chunks/CvhM-kpT.js";import{P as J}from"../chunks/CUWsDnas.js";import{s as K,g as T}from"../chunks/BCQF2SfB.js";function L(t,o,s){var e=t==null?"":""+t;return e=e?e+" "+o:o,e===""?null:e}function A(t,o,s,e,c,n){var a=t.__className;if(d||a!==s||a===void 0){var i=L(s,e);(!d||i!==t.getAttribute("class"))&&(i==null?t.removeAttribute("class"):t.className=i),t.__className=s}return n}const Q=async({fetch:t})=>{const s=await(await t("/api/posts")).json(),e=Array.from(new Set(s.flatMap(c=>c.meta.tags||[]))).sort();return{allPosts:s,allTags:e}},it=Object.freeze(Object.defineProperty({__proto__:null,load:Q},Symbol.toStringTag,{value:"Module"})),V=()=>{const t=K;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},W={subscribe(t){return V().page.subscribe(t)}};var X=w("<button> </button>"),Y=w('<h1>Blog</h1> <div class="tag-filter svelte-b0j37k"><button>All Posts</button> <!></div> <!>',1);function ct(t,o){M(o,!1);const[s,e]=F(),c=()=>H(W,"$page",s);let n=E(o,"data",8),a=v(null),i=v(n().allPosts);function m(l){l?T(`/blog?tag=${encodeURIComponent(l)}`):T("/blog")}O(()=>(r(a),c(),h(n())),()=>{j(a,c().url.searchParams.get("tag")),j(i,r(a)?n().allPosts.filter(l=>l.meta.tags&&l.meta.tags.includes(r(a))):n().allPosts)}),z(),D();var _=Y(),p=b(C(_),2),g=y(p),N=b(g,2);U(N,1,()=>(h(n()),I(()=>n().allTags)),q,(l,f)=>{var u=X(),B=y(u,!0);k(u),P(()=>{A(u,1,`tag-button ${r(a)===r(f)?"active":""}`,"svelte-b0j37k"),R(B,r(f))}),S("click",u,()=>m(r(f))),$(l,u)}),k(p);var x=b(p,2);J(x,{get posts(){return r(i)}}),P(()=>A(g,1,`tag-button ${r(a)?"":"active"}`,"svelte-b0j37k")),S("click",g,()=>m(null)),$(t,_),G(),e()}export{ct as component,it as universal};
