import"../chunks/CWj6FrbW.js";import"../chunks/C4_hL9aG.js";import{h as M,ap as V,t as O,aR as W,aS as X,_ as h,a1 as f,a2 as Y,a6 as w,$ as d,aq as Z,a3 as v,aw as R,d as t,S as q,P as g,a4 as n}from"../chunks/B04gGUFm.js";import{e as C,s as b}from"../chunks/CrXGl_oc.js";import{p as tt,s as at,a as et,i as st}from"../chunks/k7g6tv17.js";import{e as A,i as j}from"../chunks/DHXzl2Fu.js";import{s as rt}from"../chunks/DJRpBOJi.js";import{i as ot}from"../chunks/DoLvf9KS.js";import{s as lt,g as I}from"../chunks/B6ZBsX9y.js";function it(a,c,o){var s=a==null?"":""+a;return s=s?s+" "+c:c,s===""?null:s}function U(a,c,o,s,_,u){var l=a.__className;if(M||l!==o||l===void 0){var p=it(o,s);(!M||p!==a.getAttribute("class"))&&(p==null?a.removeAttribute("class"):a.className=p),a.__className=o}return u}const nt=async({fetch:a})=>{const o=await(await a("/api/posts")).json(),s=Array.from(new Set(o.flatMap(_=>_.meta.tags||[]))).sort();return{allPosts:o,allTags:s}},St=Object.freeze(Object.defineProperty({__proto__:null,load:nt},Symbol.toStringTag,{value:"Module"})),ct=()=>{const a=lt;return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},updated:a.updated}},ut={subscribe(a){return ct().page.subscribe(a)}};var vt=h("<button> </button>"),gt=h('<span class="tag svelte-17wsc3l"> </span>'),pt=h('<div class="post-tags svelte-17wsc3l"></div>'),ft=h('<a class="post-tile"><h3> </h3> <div class="post-date"> </div> <p class="subtitle" style="font-weight:200;font-size:1.5rem"> </p> <!></a>'),_t=h('<h1>Blog</h1> <div class="tag-filter svelte-17wsc3l"><button>All Posts</button> <!></div> <section class="posts-grid"></section>',1);function Tt(a,c){V(c,!1);const[o,s]=at(),_=()=>et(ut,"$page",o);let u=tt(c,"data",8),l=O(null),p=O(u().allPosts);function N(i){i?I(`/blog?tag=${encodeURIComponent(i)}`):I("/blog")}W(()=>(t(l),_(),q(u())),()=>{R(l,_().url.searchParams.get("tag")),R(p,t(l)?u().allPosts.filter(i=>i.meta.tags&&i.meta.tags.includes(t(l))):u().allPosts)}),X(),ot();var z=_t(),$=f(Y(z),2),y=v($),D=f(y,2);A(D,1,()=>(q(u()),g(()=>u().allTags)),j,(i,e)=>{var r=vt(),m=v(r,!0);n(r),w(()=>{U(r,1,`tag-button ${t(l)===t(e)?"active":""}`,"svelte-17wsc3l"),b(m,t(e))}),C("click",r,()=>N(t(e))),d(i,r)}),n($);var B=f($,2);A(B,5,()=>t(p),j,(i,e)=>{var r=ft(),m=v(r),E=v(m,!0);n(m);var P=f(m,2),F=v(P,!0);n(P);var x=f(P,2),G=v(x,!0);n(x);var H=f(x,2);{var J=S=>{var T=pt();A(T,5,()=>(t(e),g(()=>t(e).meta.tags)),j,(K,L)=>{var k=gt(),Q=v(k,!0);n(k),w(()=>b(Q,t(L))),d(K,k)}),n(T),d(S,T)};st(H,S=>{t(e),g(()=>t(e).meta.tags&&t(e).meta.tags.length>0)&&S(J)})}n(r),w(()=>{rt(r,"href",(t(e),g(()=>t(e).path))),b(E,(t(e),g(()=>t(e).meta.shorttitle))),b(F,(t(e),g(()=>t(e).meta.date))),b(G,(t(e),g(()=>t(e).meta.excerpt)))}),d(i,r)}),n(B),w(()=>U(y,1,`tag-button ${t(l)?"":"active"}`,"svelte-17wsc3l")),C("click",y,()=>N(null)),d(a,z),Z(),s()}export{Tt as component,St as universal};
