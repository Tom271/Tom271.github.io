import"../chunks/CWj6FrbW.js";import"../chunks/Cud7yNtm.js";import{h as _,Y as B,ad as d,aJ as G,aK as I,F as w,G as b,I as J,Q as P,J as h,Z as K,v as $,t as r,K as y,af as j,n as O,M as k}from"../chunks/BCJAlATI.js";import{e as T,a as z}from"../chunks/BdJq1nwz.js";import{e as C,P as F,i as Q}from"../chunks/Cxs6WNPA.js";import{i as R}from"../chunks/CWTqlkyf.js";import{p as U,s as Y,a as Z}from"../chunks/CaBbN06y.js";import{s as q,g as A}from"../chunks/Sv6Ofo53.js";function D(t,o,s){var e=t==null?"":""+t;return e=e?e+" "+o:o,e===""?null:e}function S(t,o,s,e,c,n){var a=t.__className;if(_||a!==s||a===void 0){var i=D(s,e);(!_||i!==t.getAttribute("class"))&&(i==null?t.removeAttribute("class"):t.className=i),t.__className=s}return n}const E=async({fetch:t})=>{const s=await(await t("/api/posts")).json(),e=Array.from(new Set(s.flatMap(c=>c.meta.tags||[]))).sort();return{allPosts:s,allTags:e}},lt=Object.freeze(Object.defineProperty({__proto__:null,load:E},Symbol.toStringTag,{value:"Module"})),H=()=>{const t=q;return{page:{subscribe:t.page.subscribe},navigating:{subscribe:t.navigating.subscribe},updated:t.updated}},L={subscribe(t){return H().page.subscribe(t)}};var V=w("<button> </button>"),W=w('<h1>Blog</h1> <div class="tag-filter svelte-b0j37k"><button>All Posts</button> <!></div> <!>',1);function it(t,o){B(o,!1);const[s,e]=Y(),c=()=>Z(L,"$page",s);let n=U(o,"data",8),a=d(null),i=d(n().allPosts);function m(l){l?A(`/blog?tag=${encodeURIComponent(l)}`):A("/blog")}G(()=>(r(a),c(),$(n())),()=>{j(a,c().url.searchParams.get("tag")),j(i,r(a)?n().allPosts.filter(l=>l.meta.tags&&l.meta.tags.includes(r(a))):n().allPosts)}),I(),R();var v=W(),p=b(J(v),2),g=y(p),M=b(g,2);C(M,1,()=>($(n()),O(()=>n().allTags)),Q,(l,f)=>{var u=V(),x=y(u,!0);k(u),P(()=>{S(u,1,`tag-button ${r(a)===r(f)?"active":""}`,"svelte-b0j37k"),z(x,r(f))}),T("click",u,()=>m(r(f))),h(l,u)}),k(p);var N=b(p,2);F(N,{get posts(){return r(i)}}),P(()=>S(g,1,`tag-button ${r(a)?"":"active"}`,"svelte-b0j37k")),T("click",g,()=>m(null)),h(t,v),K(),e()}export{it as component,lt as universal};
