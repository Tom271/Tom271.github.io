import"../chunks/CWj6FrbW.js";import"../chunks/cDJUE48w.js";import{h as M,ap as V,t as O,aR as W,aS as X,_ as b,$ as f,a0 as Y,a6 as h,a1 as d,aq as Z,a2 as v,aw as R,d as t,S as q,P as g,a3 as n}from"../chunks/Cq5oBeou.js";import{e as C,s as w}from"../chunks/BzKD5Q6H.js";import{p as tt,s as at,a as et,i as st}from"../chunks/qPE0-ZqJ.js";import{e as A,i as j}from"../chunks/D4vkxq_b.js";import{h as rt}from"../chunks/EOlpS_F0.js";import{s as ot}from"../chunks/mXOQ0EKN.js";import{i as lt}from"../chunks/DV4Tjodk.js";import{s as it,g as I}from"../chunks/VFeR6n9j.js";function nt(a,c,o){var s=a==null?"":""+a;return s=s?s+" "+c:c,s===""?null:s}function U(a,c,o,s,m,u){var l=a.__className;if(M||l!==o||l===void 0){var p=nt(o,s);(!M||p!==a.getAttribute("class"))&&(p==null?a.removeAttribute("class"):a.className=p),a.__className=o}return u}const ct=async({fetch:a})=>{const o=await(await a("/api/posts")).json(),s=Array.from(new Set(o.flatMap(m=>m.meta.tags||[]))).sort();return{allPosts:o,allTags:s}},kt=Object.freeze(Object.defineProperty({__proto__:null,load:ct},Symbol.toStringTag,{value:"Module"})),ut=()=>{const a=it;return{page:{subscribe:a.page.subscribe},navigating:{subscribe:a.navigating.subscribe},updated:a.updated}},vt={subscribe(a){return ut().page.subscribe(a)}};var gt=b("<button> </button>"),pt=b('<span class="tag svelte-17wsc3l"> </span>'),ft=b('<div class="post-tags svelte-17wsc3l"></div>'),mt=b('<a class="post-tile"><h3> </h3> <div class="post-date"> </div> <p class="subtitle" style="font-weight:200;font-size:1.5rem"><!></p> <!></a>'),_t=b('<h1>Blog</h1> <div class="tag-filter svelte-17wsc3l"><button>All Posts</button> <!></div> <section class="posts-grid"></section>',1);function At(a,c){V(c,!1);const[o,s]=at(),m=()=>et(vt,"$page",o);let u=tt(c,"data",8),l=O(null),p=O(u().allPosts);function N(i){i?I(`/blog?tag=${encodeURIComponent(i)}`):I("/blog")}W(()=>(t(l),m(),q(u())),()=>{R(l,m().url.searchParams.get("tag")),R(p,t(l)?u().allPosts.filter(i=>i.meta.tags&&i.meta.tags.includes(t(l))):u().allPosts)}),X(),lt();var z=_t(),$=f(Y(z),2),y=v($),D=f(y,2);A(D,1,()=>(q(u()),g(()=>u().allTags)),j,(i,e)=>{var r=gt(),_=v(r,!0);n(r),h(()=>{U(r,1,`tag-button ${t(l)===t(e)?"active":""}`,"svelte-17wsc3l"),w(_,t(e))}),C("click",r,()=>N(t(e))),d(i,r)}),n($);var B=f($,2);A(B,5,()=>t(p),j,(i,e)=>{var r=mt(),_=v(r),E=v(_,!0);n(_);var P=f(_,2),F=v(P,!0);n(P);var x=f(P,2),G=v(x);rt(G,()=>(t(e),g(()=>t(e).meta.excerpt))),n(x);var H=f(x,2);{var J=S=>{var T=ft();A(T,5,()=>(t(e),g(()=>t(e).meta.tags)),j,(K,L)=>{var k=pt(),Q=v(k,!0);n(k),h(()=>w(Q,t(L))),d(K,k)}),n(T),d(S,T)};st(H,S=>{t(e),g(()=>t(e).meta.tags&&t(e).meta.tags.length>0)&&S(J)})}n(r),h(()=>{ot(r,"href",(t(e),g(()=>t(e).path))),w(E,(t(e),g(()=>t(e).meta.shorttitle))),w(F,(t(e),g(()=>t(e).meta.date)))}),d(i,r)}),n(B),h(()=>U(y,1,`tag-button ${t(l)?"":"active"}`,"svelte-17wsc3l")),C("click",y,()=>N(null)),d(a,z),Z(),s()}export{At as component,kt as universal};
